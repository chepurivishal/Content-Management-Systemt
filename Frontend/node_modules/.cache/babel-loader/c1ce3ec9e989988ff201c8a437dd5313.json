{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VISHAL\\\\Desktop\\\\nyx project\\\\Frontend\\\\src\\\\Login\\\\loginPage.js\";\nimport React, { useContext, useState } from 'react';\nimport LoginContext from '../context/loginContext';\nimport { useHistory } from 'react-router-dom';\nimport { Card, CardBody, Button, Form, FormGroup, Label, Input, Row, Col, InputGroupAddon, InputGroup, InputGroupText, Alert } from 'reactstrap';\n\nconst urlconfig = require('../config/urlsconfig.json');\n\nconst config = require('../config/config.json');\n\nconst Login = props => {\n  const history = useHistory();\n  const {\n    isLoggedIn,\n    toggleLogIn\n  } = useContext(LoginContext);\n  let [userName, setUserName] = useState('');\n  let [password, setPassword] = useState('');\n  const inputs = [\"username\", \"password\"];\n  const [isLoginSuccessful, setIsLoginSuccessful] = useState(true);\n\n  const changeUserName = e => {\n    setUserName(userName = e.target.value);\n  };\n\n  const changePassword = e => {\n    setPassword(password = e.target.value);\n  };\n\n  const submitLogin = () => {\n    const body = JSON.stringify({\n      userName: userName,\n      password: password\n    });\n    console.log(\"@@@@@@@@@@@@@!!!!!!!!!!         \");\n    fetch(`${config.baseURL}${urlconfig.login.uri}`, {\n      method: urlconfig.login.method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: body\n    }).then(res => {\n      inputs.forEach(input => {\n        document.getElementById(input).value = \"\";\n      });\n\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        setIsLoginSuccessful(false);\n      }\n    }).then(response => {\n      localStorage.setItem('token', response.token);\n      toggleLogIn();\n      history.push('/');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    xs: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 45\n    }\n  }, \"USERNAME\")), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"USERNAME\",\n    id: \"username\",\n    onChange: changeUserName,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 45\n    }\n  }, \"PASSWORD\")), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"PASSWORD\",\n    id: \"password\",\n    onChange: changePassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    block: true,\n    onClick: submitLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }, \" LOGIN\"))), !isLoginSuccessful ? /*#__PURE__*/React.createElement(Alert, {\n    color: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 53\n    }\n  }, \" Invalid Credentials!!\") : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 110\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    xs: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/VISHAL/Desktop/nyx project/Frontend/src/Login/loginPage.js"],"names":["React","useContext","useState","LoginContext","useHistory","Card","CardBody","Button","Form","FormGroup","Label","Input","Row","Col","InputGroupAddon","InputGroup","InputGroupText","Alert","urlconfig","require","config","Login","props","history","isLoggedIn","toggleLogIn","userName","setUserName","password","setPassword","inputs","isLoginSuccessful","setIsLoginSuccessful","changeUserName","e","target","value","changePassword","submitLogin","body","JSON","stringify","console","log","fetch","baseURL","login","uri","method","headers","then","res","forEach","input","document","getElementById","status","json","response","localStorage","setItem","token","push"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport LoginContext from '../context/loginContext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n    Card,\r\n    CardBody,\r\n    Button,\r\n    Form,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    Row,\r\n    Col,\r\n    InputGroupAddon,\r\n    InputGroup,\r\n    InputGroupText,\r\n    Alert\r\n} from 'reactstrap';\r\n\r\n\r\nconst urlconfig = require('../config/urlsconfig.json');\r\nconst config = require('../config/config.json');\r\n\r\n\r\nconst Login = (props) => {\r\n    const history = useHistory();\r\n    const { isLoggedIn, toggleLogIn } = useContext(LoginContext);\r\n    let [userName, setUserName] = useState('');\r\n    let [password, setPassword] = useState('');\r\n    const inputs = [\"username\", \"password\"];\r\n    const [isLoginSuccessful, setIsLoginSuccessful] = useState(true);\r\n\r\n    const changeUserName = (e) => {\r\n        setUserName(userName = e.target.value);\r\n    }\r\n\r\n    const changePassword = (e) => {\r\n        setPassword(password = e.target.value);\r\n    }\r\n\r\n    const submitLogin = () => {\r\n        const body = JSON.stringify({\r\n            userName: userName,\r\n            password: password\r\n        });\r\n        console.log(\"@@@@@@@@@@@@@!!!!!!!!!!         \")\r\n        fetch(`${config.baseURL}${urlconfig.login.uri}`, {\r\n            method: urlconfig.login.method,\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: body\r\n        })\r\n            .then((res) => {\r\n                inputs.forEach((input) => {\r\n                    document.getElementById(input).value = \"\";\r\n                });\r\n                if (res.status === 200) {\r\n                    return res.json();\r\n                } else {\r\n                    setIsLoginSuccessful(false);\r\n                }\r\n            })\r\n            .then((response) => {\r\n                localStorage.setItem('token', response.token);\r\n                toggleLogIn();\r\n                history.push('/');\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <Row>\r\n                <Col xs=\"4\"></Col>\r\n                <Col xs=\"4\">\r\n                    <Card>\r\n                        <CardBody>\r\n                            <Form>\r\n                                <FormGroup>\r\n                                    <InputGroup>\r\n                                        <InputGroupAddon addonType=\"prepend\">\r\n                                            <InputGroupText>USERNAME</InputGroupText>\r\n                                        </InputGroupAddon>\r\n                                        <Input type=\"text\" name=\"username\" placeholder=\"USERNAME\" id=\"username\" onChange={changeUserName} autoComplete=\"off\" />\r\n                                    </InputGroup>\r\n                                    <br />\r\n                                    <InputGroup>\r\n                                        <InputGroupAddon addonType=\"prepend\">\r\n                                            <InputGroupText>PASSWORD</InputGroupText>\r\n                                        </InputGroupAddon>\r\n                                        <Input type=\"password\" name=\"password\" placeholder=\"PASSWORD\" id=\"password\" onChange={changePassword} />\r\n                                    </InputGroup>\r\n\r\n                                    <br />\r\n                                    <Button color=\"info\" block onClick={submitLogin}> LOGIN</Button>\r\n                                </FormGroup>\r\n                            </Form>\r\n                            {\r\n                                !isLoginSuccessful? <Alert color = \"danger\"> Invalid Credentials!!</Alert> : <React.Fragment/>\r\n                            }\r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n                <Col xs=\"4\"></Col>\r\n            </Row>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}
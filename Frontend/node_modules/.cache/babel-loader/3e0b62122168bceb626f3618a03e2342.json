{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VISHAL\\\\Desktop\\\\nyx project\\\\Frontend\\\\src\\\\Templates\\\\BlogCard.js\";\nimport React from \"react\";\nimport { Card, CardBody, CardFooter, CardImg, CardSubtitle, CardText, CardTitle, Button, Row } from \"reactstrap\";\n\nconst _ = require(\"lodash\");\n\nconst BlogCard = props => {\n  const userId = localStorage.getItem(\"userId\");\n  let [isLiked, setIsLiked] = useState(likes.includes(userId) ? true : false);\n  let [_likes, setLikes] = useState(props.likes);\n\n  const handleLike = (blogId, likes) => {\n    if (isLiked) {\n      var temp = _likes;\n      temp.push(userId);\n      setLikes(_liked = temp);\n    } else {\n      var temp = _likes;\n\n      _.remove(temp, userId);\n\n      setLikes(_likes = temp);\n    }\n\n    const likesHandle = () => {\n      let body = JSON.stringify({\n        likes: _likes\n      });\n      const token = localStorage.getItem(\"token\");\n      let url = `${config.baseURL}${urlConfig.addblog.uri}`;\n      console.log(\"useriDDDDDDDDDDDDDDDDDddd\", userId);\n      url = url.replace(\":userId\", userId);\n      fetch(url, {\n        method: urlConfig.addblog.method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `bearer ${token}`\n        },\n        body: body\n      }).then(res => {\n        if (res.status === 200) {\n          return res.json();\n        }\n      }).then(response => {\n        history.push(\"/\");\n      });\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, props.userName), /*#__PURE__*/React.createElement(CardImg, {\n    width: \"400px\",\n    height: \"500px\",\n    src: props.media,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"display-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, props.title)), /*#__PURE__*/React.createElement(CardSubtitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"display-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, props.subtitle)), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, props.description)), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \" Liked By \", props.likes.length), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    size: \"sm\",\n    onClick: () => handleLike(props._id, props.likes),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Like\")))));\n};\n\nexport default BlogCard;","map":{"version":3,"sources":["C:/Users/VISHAL/Desktop/nyx project/Frontend/src/Templates/BlogCard.js"],"names":["React","Card","CardBody","CardFooter","CardImg","CardSubtitle","CardText","CardTitle","Button","Row","_","require","BlogCard","props","userId","localStorage","getItem","isLiked","setIsLiked","useState","likes","includes","_likes","setLikes","handleLike","blogId","temp","push","_liked","remove","likesHandle","body","JSON","stringify","token","url","config","baseURL","urlConfig","addblog","uri","console","log","replace","fetch","method","headers","Authorization","then","res","status","json","response","history","userName","media","title","subtitle","description","length","_id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardImg,\r\n  CardSubtitle,\r\n  CardText,\r\n  CardTitle,\r\n  Button,\r\n  Row,\r\n} from \"reactstrap\";\r\nconst _ = require(\"lodash\");\r\n\r\nconst BlogCard = (props) => {\r\n  const userId = localStorage.getItem(\"userId\");\r\n  let [isLiked, setIsLiked] = useState(likes.includes(userId) ? true : false);\r\n  let [_likes, setLikes] = useState(props.likes);\r\n\r\n  const handleLike = (blogId, likes) => {\r\n    if (isLiked) {\r\n      var temp = _likes;\r\n      temp.push(userId);\r\n      setLikes((_liked = temp));\r\n    } else {\r\n      var temp = _likes;\r\n      _.remove(temp, userId);\r\n      setLikes((_likes = temp));\r\n    }\r\n\r\n    const likesHandle = () => {\r\n      let body = JSON.stringify({\r\n        \r\n        likes: _likes\r\n      });\r\n      const token = localStorage.getItem(\"token\");\r\n  \r\n      let url = `${config.baseURL}${urlConfig.addblog.uri}`;\r\n      console.log(\"useriDDDDDDDDDDDDDDDDDddd\",userId)\r\n      url = url.replace(\":userId\", userId);\r\n      fetch(url, {\r\n        method: urlConfig.addblog.method,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `bearer ${token}`,\r\n        },\r\n        body: body,\r\n      })\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            return res.json();\r\n          }\r\n        })\r\n        .then((response) => {\r\n          history.push(\"/\");\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <React.Fragment>\r\n        <Card>\r\n          <CardBody>\r\n            <CardText>{props.userName}</CardText>\r\n            <CardImg width=\"400px\" height=\"500px\" src={props.media} />\r\n            <CardTitle>\r\n              <h5 className=\"display-7\">{props.title}</h5>\r\n            </CardTitle>\r\n            <CardSubtitle>\r\n              <h6 className=\"display-8\">{props.subtitle}</h6>\r\n            </CardSubtitle>\r\n            <hr />\r\n            <CardText>\r\n              <p className=\"lead-small\">{props.description}</p>\r\n            </CardText>\r\n            <hr />\r\n            <p className=\"lead-small\"> Liked By {props.likes.length}</p>\r\n            <Button\r\n              color=\"info\"\r\n              size=\"sm\"\r\n              onClick={() => handleLike(props._id, props.likes)}\r\n            >\r\n              Like\r\n            </Button>\r\n          </CardBody>\r\n        </Card>\r\n      </React.Fragment>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogCard;\r\n"]},"metadata":{},"sourceType":"module"}
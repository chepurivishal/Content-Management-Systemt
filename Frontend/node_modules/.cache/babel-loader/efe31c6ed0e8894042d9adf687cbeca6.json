{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VISHAL\\\\Desktop\\\\nyx project\\\\Frontend\\\\src\\\\Templates\\\\BlogCard.js\";\nimport React, { useState } from \"react\";\nimport { Card, CardBody, CardFooter, CardImg, CardSubtitle, CardText, CardTitle, Button, Row, NavLink, ButtonGroup, Input } from \"reactstrap\";\nimport urlConfig from \"../config/urlsconfig.json\";\nimport config from \"../config/config.json\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst _ = require(\"lodash\");\n\nconst moment = require(\"moment\");\n\nconst BlogCard = props => {\n  const history = useHistory();\n  const userId = localStorage.getItem(\"userId\");\n  const requetsedUserId = props.userId;\n  let [blogs, updateBlogs] = useState([]);\n  let [isLiked, setIsLiked] = useState(props.likes.includes(userId) ? true : false);\n  let [_likes, setLikes] = useState(props.likes);\n  const token = localStorage.getItem(\"token\");\n\n  const handleLike = (blogId, likes) => {\n    if (!isLiked) {\n      var temp = _.clone(_likes);\n\n      temp.push(userId);\n      setLikes(_likes = temp);\n    } else {\n      var temp = _.clone(_likes);\n\n      _.remove(temp, id => {\n        return id === userId;\n      });\n\n      setLikes(_likes = temp);\n    }\n\n    setIsLiked(isLiked = !isLiked);\n    let body = JSON.stringify({\n      likes: _likes\n    });\n    let url = `${config.baseURL}${urlConfig.editblog.uri}`;\n    url = url.replace(\":id\", props._id);\n    url = url.replace(\":userId\", userId);\n    fetch(url, {\n      method: urlConfig.editblog.method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `bearer ${token}`\n      },\n      body: body\n    }).then(res => {\n      if (res.status === 200) {\n        return res.json();\n      }\n    });\n  };\n\n  const deleteBlog = id => {\n    let url = `${config.baseURL}${urlConfig.deleteblog.uri}`;\n    url = url.replace(\":id\", id);\n    url = url.replace(\":userId\", userId);\n    fetch(url, {\n      method: urlConfig.deleteblog.method,\n      headers: {\n        \"Context-Type\": \"application/json\",\n        Authorization: `bearer ${token}`\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        return res.json();\n      }\n    }).then(response => {\n      let _blogs = _.clone(blogs);\n\n      _.remove(_blogs, blog => {\n        if (blog._id === id) return true;\n      });\n\n      updateBlogs(blogs = _blogs);\n      window.location.reload(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, props.userName ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, \"Posted by\", \" \", /*#__PURE__*/React.createElement(Link, {\n    onClick: () => history.push(`/userblog/${props.userId}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, props.userName), `  ${moment(props.time).fromNow()}`)) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(CardImg, {\n    width: \"400px\",\n    height: \"500px\",\n    src: props.media,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"display-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, props.title)), /*#__PURE__*/React.createElement(CardSubtitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"display-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, props.subtitle)), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, props.description)), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \" Liked By \", _likes.length), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    size: \"sm\",\n    onClick: () => handleLike(props._id, props.likes),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, props.comments.map(function (comment) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      value: comment.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, comment.user));\n  }), isLiked ? \"Liked\" : \"Like\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \" \"), userId === requetsedUserId ? /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"sm\",\n    color: \"secondary\",\n    onClick: () => history.push(`/editblog/${props._id}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    size: \"sm\",\n    color: \"danger\",\n    onClick: () => deleteBlog(props._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, \"Delete\")) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  })))));\n};\n\nexport default BlogCard;","map":{"version":3,"sources":["C:/Users/VISHAL/Desktop/nyx project/Frontend/src/Templates/BlogCard.js"],"names":["React","useState","Card","CardBody","CardFooter","CardImg","CardSubtitle","CardText","CardTitle","Button","Row","NavLink","ButtonGroup","Input","urlConfig","config","Link","useHistory","_","require","moment","BlogCard","props","history","userId","localStorage","getItem","requetsedUserId","blogs","updateBlogs","isLiked","setIsLiked","likes","includes","_likes","setLikes","token","handleLike","blogId","temp","clone","push","remove","id","body","JSON","stringify","url","baseURL","editblog","uri","replace","_id","fetch","method","headers","Authorization","then","res","status","json","deleteBlog","deleteblog","response","_blogs","blog","window","location","reload","userName","time","fromNow","media","title","subtitle","description","length","comments","map","comment","value","user"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardImg,\r\n  CardSubtitle,\r\n  CardText,\r\n  CardTitle,\r\n  Button,\r\n  Row,\r\n  NavLink,\r\n  ButtonGroup,\r\n  Input,\r\n} from \"reactstrap\";\r\nimport urlConfig from \"../config/urlsconfig.json\";\r\nimport config from \"../config/config.json\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nconst _ = require(\"lodash\");\r\nconst moment = require(\"moment\");\r\n\r\nconst BlogCard = (props) => {\r\n  const history = useHistory();\r\n  const userId = localStorage.getItem(\"userId\");\r\n  const requetsedUserId = props.userId;\r\n  let [blogs, updateBlogs] = useState([]);\r\n  let [isLiked, setIsLiked] = useState(\r\n    props.likes.includes(userId) ? true : false\r\n  );\r\n  let [_likes, setLikes] = useState(props.likes);\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n  const handleLike = (blogId, likes) => {\r\n    if (!isLiked) {\r\n      var temp = _.clone(_likes);\r\n      temp.push(userId);\r\n      setLikes((_likes = temp));\r\n    } else {\r\n      var temp = _.clone(_likes);\r\n      _.remove(temp, (id) => {\r\n        return id === userId;\r\n      });\r\n      setLikes((_likes = temp));\r\n    }\r\n    setIsLiked((isLiked = !isLiked));\r\n    let body = JSON.stringify({\r\n      likes: _likes,\r\n    });\r\n\r\n    let url = `${config.baseURL}${urlConfig.editblog.uri}`;\r\n    url = url.replace(\":id\", props._id);\r\n    url = url.replace(\":userId\", userId);\r\n    fetch(url, {\r\n      method: urlConfig.editblog.method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `bearer ${token}`,\r\n      },\r\n      body: body,\r\n    }).then((res) => {\r\n      if (res.status === 200) {\r\n        return res.json();\r\n      }\r\n    });\r\n  };\r\n  const deleteBlog = (id) => {\r\n    let url = `${config.baseURL}${urlConfig.deleteblog.uri}`;\r\n    url = url.replace(\":id\", id);\r\n    url = url.replace(\":userId\", userId);\r\n    fetch(url, {\r\n      method: urlConfig.deleteblog.method,\r\n      headers: {\r\n        \"Context-Type\": \"application/json\",\r\n        Authorization: `bearer ${token}`,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          return res.json();\r\n        }\r\n      })\r\n      .then((response) => {\r\n        let _blogs = _.clone(blogs);\r\n        _.remove(_blogs, (blog) => {\r\n          if (blog._id === id) return true;\r\n        });\r\n        updateBlogs((blogs = _blogs));\r\n        window.location.reload(false);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <React.Fragment>\r\n        <Card>\r\n          <CardBody>\r\n            <CardText>\r\n              {props.userName ? (\r\n                <React.Fragment>\r\n                  <p>\r\n                    Posted by{\" \"}\r\n                    <Link\r\n                      onClick={() => history.push(`/userblog/${props.userId}`)}\r\n                    >\r\n                      {props.userName}\r\n                    </Link>\r\n                    {`  ${moment(props.time).fromNow()}`}\r\n                  </p>\r\n                </React.Fragment>\r\n              ) : (\r\n                <div />\r\n              )}\r\n            </CardText>\r\n            <CardImg width=\"400px\" height=\"500px\" src={props.media} />\r\n            <CardTitle>\r\n              <h5 className=\"display-7\">{props.title}</h5>\r\n            </CardTitle>\r\n            <CardSubtitle>\r\n              <h6 className=\"display-8\">{props.subtitle}</h6>\r\n            </CardSubtitle>\r\n            <hr />\r\n            <CardText>\r\n              <p className=\"lead-small\">{props.description}</p>\r\n            </CardText>\r\n            <hr />\r\n            <p className=\"lead-small\"> Liked By {_likes.length}</p>\r\n            <Button\r\n              color=\"info\"\r\n              size=\"sm\"\r\n              onClick={() => handleLike(props._id, props.likes)}\r\n            >\r\n              {props.comments.map(function (comment) {\r\n                return (\r\n                  <React.Fragment>\r\n                    <Input type=\"text\" value={comment.value}></Input>\r\n                    <Link>{comment.user}</Link>\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n              {isLiked ? \"Liked\" : \"Like\"}\r\n            </Button>\r\n            <p> </p>\r\n            {userId === requetsedUserId ? (\r\n              <ButtonGroup>\r\n                <Button\r\n                  size=\"sm\"\r\n                  color=\"secondary\"\r\n                  onClick={() => history.push(`/editblog/${props._id}`)}\r\n                >\r\n                  Edit\r\n                </Button>\r\n                <Button\r\n                  size=\"sm\"\r\n                  color=\"danger\"\r\n                  onClick={() => deleteBlog(props._id)}\r\n                >\r\n                  Delete\r\n                </Button>\r\n              </ButtonGroup>\r\n            ) : (\r\n              <React.Fragment />\r\n            )}\r\n          </CardBody>\r\n        </Card>\r\n      </React.Fragment>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogCard;\r\n"]},"metadata":{},"sourceType":"module"}